{
	"name": "bbfpdopvconf",
	"properties": {
		"content": {
			"query": "create database datagovdb;\n\nuse datagovdb;\nCREATE LOGIN [bbfpdopv] FROM EXTERNAL PROVIDER;\n\nuse datagovdb;\nCREATE USER [bbfpdopv] FOR LOGIN [bbfpdopv];\nALTER ROLE db_datareader ADD MEMBER [bbfpdopv];\n\nGRANT REFERENCES ON DATABASE SCOPED CREDENTIAL::[scoped_credential] TO [bbfpdopv];\n\n--In the master database\nCREATE LOGIN [amlsvruser] FROM EXTERNAL PROVIDER;\n\n-- In your database\nCREATE USER amlsvruser FROM LOGIN [amlsvruser];\n\nALTER ROLE db_owner ADD member alias; -- Type USER name from step 2\n\nCREATE LOGIN [amlsvruser] FROM EXTERNAL PROVIDER;\nALTER SERVER ROLE sysadmin ADD MEMBER [amlsvruser];\n\n\nCREATE LOGIN sqluser WITH PASSWORD = 'AzureSQL!@#$';\n\nCREATE USER sqluser FROM LOGIN sqluser;\n\nALTER ROLE db_owner ADD member sqluser;\n\nCREATE MASTER KEY ENCRYPTION by PASSWORD = 'Azure!2345678';\nGo\n\nCREATE DATABASE SCOPED CREDENTIAL synpasedl\nWITH IDENTITY = 'Managed Identity';\nGO\nCREATE EXTERNAL DATA SOURCE tpch2\nWITH (    LOCATION   = 'https://synpasedlstore.dfs.core.windows.net/root/tpchoutput2/',\n          CREDENTIAL = synpasedl\n)\n\nCREATE EXTERNAL FILE FORMAT [SynapseParquetFormat]\n       WITH ( FORMAT_TYPE = PARQUET)\nGO\n\nDROP EXTERNAL TABLE custviewaggrmonth\ngo\n\nCREATE EXTERNAL TABLE custviewaggrmonth ( [month] INT,\n    [day] INT ,\n    [O_ORDERDATE] DATE,\n    [C_CUSTKEY] varchar(100),\n    [Tprice] DECIMAL(10,2),\n    [Tdicount] DECIMAL(10,2),\n    [Tqty] DECIMAL(14, 2),\n    [Ttax] DECIMAL(10,2),\n    [Titem] INT,\n    [Textprice] DECIMAL(19, 2))\nWITH ( LOCATION = '/*/*.parquet',\n       DATA_SOURCE = [tpch2],\n       FILE_FORMAT = [SynapseParquetFormat] )\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "datagovdb",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}